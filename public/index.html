<!DOCTYPE html>
<html>

<head>
  <title>Socket.IO chat</title>

</head>

<body>
  <ul id="messages"></ul>
  <span id="esc" class="NO">Escribiendo</span>
  <form id="form" action="">
    <input id="input" autocomplete="off" /><button>Send</button>
  </form>
  <h1 id="btn-enviar">Enviar</h1>
  <script src="/socket.io/socket.io.js"></script>

  <script>
    var socket = io();
    
    // var form = document.getElementById('form');
    var input = document.getElementById('input');
    var btnEnviar = document.getElementById('btn-enviar');


    btnEnviar.addEventListener('click', () => {
      socket.emit('mensaje-propio-enviar', input.value);
    });
    socket.on('mensaje-propio-recibir', (msg)=>{
      console.log(msg)
    })


    // var messages = document.getElementById('messages');
    // var input = document.getElementById('input');
    // var esc = document.getElementById('esc');

    // input.addEventListener('keypress', (e) => {
    //   if(e.keyCode != 13)
    //     socket.emit('escribiendo', "...");
    // })
    // form.addEventListener('submit', function (e) {
    //   e.preventDefault();
    //   if (input.value) {
    //     socket.emit('chat message', input.value);
    //     input.value = '';
    //   }
    // });
    // socket.on('escribiendo', () => {
    //   esc.classList.add("SI")
    //   esc.classList.remove("NO")
    //   setTimeout(
    //     () => {
    //       esc.classList.add("NO")
    //       esc.classList.remove("SI")
    //     }, 1500
    //   )
    // })
    // socket.on('chat message', function (msg) {
    //   var item = document.createElement('li');
    //   item.textContent = msg;
    //   messages.appendChild(item);
    //   window.scrollTo(0, document.body.scrollHeight);
    // });
  </script>
</body>

</html>